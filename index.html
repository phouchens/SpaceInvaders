<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script language="javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js" type="text/javascript"></script>
    <script language="javascript" src="javascripts/jquery.hotkeys.js" type="text/javascript"></script>
    <script language="javascript" src="javascripts/key_status.js" type="text/javascript"></script>
	<script language="javascript" src="javascripts/util.js" type="text/javascript"></script>
	<script language="javascript" src="javascripts/sprite.js" type="text/javascript"></script>
	<script language="javascript" src="javascripts/sound.js" type="text/javascript"></script>
    <title>Space and stuff</title
 </head>

<body>
  <h1>Space Demo</h1>
  <script type='text/javascript'>
     //<![CDATA[
      var CANVAS_WIDTH = 480;
      var CANVAS_HEIGHT = 320;
      var FPS = 30;

      //player object
      var player = {
          color: "#00A",
          x:200,
          y:270,
          width: 32,
          height: 32,
          draw: function(){
              canvas.fillStyle = this.color;
              canvas.fillRect(this.x,this.y,this.width,this.height);
          }
      };



      //convention develop in JavaScript to use the $() function as a shortcut way to refer to document.getElementById().
      // or $(x) is the equivalent to document.getElementById(x)
      var canvasElement = $("<canvas width='" + CANVAS_WIDTH +
                            "' height='" + CANVAS_HEIGHT + "'></canvas");

      //tells what type of canvas - 2d
      var canvas = canvasElement.get(0).getContext("2d");
      //attaches it to body tag -jquery
      canvasElement.appendTo('body');


      setInterval(function(){
          update();
          draw();

      }, 1000/FPS);



      function update(){
          if(keydown.left) {
              player.x -= 5;
          }

          if(keydown.right) {
              player.x += 5;
          }

          player.x = player.x.clamp(0, CANVAS_WIDTH - player.width);
      }

      function draw() {
          canvas.clearRect(0,0, CANVAS_WIDTH, CANVAS_HEIGHT);
          player.draw();
      }
      //}}>
    </script>
</body>
</html>
